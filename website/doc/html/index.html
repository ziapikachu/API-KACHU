<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>API KACHU: APIKachu</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="../../../index.html"><img alt="Logo" src="pikachu.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API KACHU
   </div>
   <div id="projectbrief">API for ZIA Project (Promotion 2018)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespace_a_p_i_kachu.html">APIKachu</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Welcome to <a class="el" href="namespace_a_p_i_kachu.html">APIKachu</a>'s documentation. You can find a list of classes and their methods in the toolbar above.</p>
<p>To create a module, you have to implement the IModule interface and its methods accordingly. You'll find more details in the documentation of the class.</p>
<p>First of all, when the server receives a new connection, it should create an instance of IHttpClient containing the IP address of the client as an IIPAddress. This is to be used later on by the modules if needed. Note that all enabled modules with the MODULE_TYPE_CONNECTION type set will be called at that time. You can for example set up an SSL connection here within a module.</p>
<p>When the server receives a request from a known client, it has to create an IHttpTransaction containing the client sending it, and set its ByteBuffer to the content of the received packet. This is when modules with MODULE_TYPE_ON_READ will be executed. At this point, the server should create the IHttpRequest, set it in the IHttpTransaction object, and pass this to modules with MODULE_TYPE_INIT. The next step is parsing the headers ; this should be done by one of the modules with MODULE_TYPE_PARSING set. After this, the server has to create the IHttpResponse, and set it in the IHttpTransaction object : this is when the content of the response will get filled, with the MODULE_TYPE_PROCESS modules. You have to create a module retrieving the content of the file there and fill the ByteBuffer within the IHttpResponse. Modules with their type set to MODULE_TYPE_POST_PROCESS will get executed right after. The response is almost ready to be sent by then ; modules with MODULE_TYPE_ON_WRITE will be executed, and then the server can send the response. Lastly, after the response is sent, modules with MODULE_TYPE_END sent will be executed on the transaction, potentially doing last actions.</p>
<p>The execution routine of the modules returns a boolean, whose behaviour changes with the module's eModuleFlags. A flag of MODULE_FLAGS_NONE specifies that the return value should be ignored, and have no impact on the execution of other modules. The MODULE_FLAGS_REQUIRED flag specifies that if the return value is false, the execution of modules should be stopped and the response sent directly (the module has to set the appropriate error code). If the MODULE_FLAGS_SUFFICIENT is set, a return value of true specifies that only other modules with MODULE_FLAG_REQUIRED should be executed before sending the response. Last, if both of those are set, a return value of true means that the execution of other modules should be stopped and the request sent directly. Please note that in each of those cases, the modules of type MODULE_TYPE_ON_WRITE and MODULE_TYPE_END should still be executed. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
